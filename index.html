<!DOCTYPE html>
<html>
    <body>
        <style>
            #holder {
                border: 10px dashed #ccc;
                width: 300px;
                height: 300px;
                margin: 20px auto;
            }
            
            #holder.hover {
                border: 10px dashed #333;
            }
        </style>
        
        <div id="holder"></div>
        
        <script>
            var getConfig = require( './js/getconfig.js' ),
                getImages = require( './js/getimages.js' );
        
            window.ondragover = function( evt ){
                evt.preventDefault();
                return false;
            };
            
            window.ondrop = function( evt ){
                evt.preventDefault();
                return false;
            };
            
            var holder = document.getElementById( 'holder' );
            
            holder.ondragover = function(){
                this.className = 'hover';
                return false;
            };
            
            holder.ondragleave = function(){
                this.className = '';
                return false;
            };
            
            holder.ondrop = function( evt ){
                evt.preventDefault();
                
                for ( var i = 0; i < evt.dataTransfer.files.length; ++i ){
                    var _path = evt.dataTransfer.files[ i ].path;
                    
                    getConfig( _path, function( err, data) {
                        if (err) return console.log( err );
                        
                        data.forEach(function( elm ){                            
                            getImages( elm, function( err, data ){
                                if ( err ) return console.log( err );
                                console.log( data );
                            });                        
                        });
                        
                                                
                    });
                }
                
                return false;
            };
            
        </script>
    </body>
</html>
            
            
            
            
            
            
            
            
            
            
            
            
